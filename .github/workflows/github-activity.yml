name: Update GitHub Activity

on:
  schedule:
    - cron: "0 */3 * * *"
  workflow_dispatch:

jobs:
  update-activity:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: 20

      - name: Install GitHub Readme Generator
        run: npm install -g github-profile-readme-generator

      - name: Update GitHub Activity
        run: |
          github-profile-readme-generator \
            --username VahantSharma \
            --token ${{ secrets.SUMMARY_CARD_TOKEN }} \
            --section activity \
            --max-activities 4 \
            --commit-message "Update GitHub Activity"
